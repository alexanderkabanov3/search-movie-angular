(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Lfds:function(t,e,i){"use strict";i.r(e),i.d(e,"SeriesOnTvModule",function(){return k});var s=i("ofXK"),o=i("mrSG"),r=i("R0Ic"),n=i("fXoL"),a=i("tk/3"),c=i("87FN"),h=i("0MNC"),d=i("tyNb"),l=i("K1R0");function u(t,e){1&t&&(n.Pb(0,"div",2),n.Lb(1,"div",3),n.Lb(2,"div",4),n.Lb(3,"div",5),n.Lb(4,"div",6),n.Ob())}function p(t,e){if(1&t&&n.Lb(0,"img",19),2&t){const t=n.ac().$implicit;n.gc("src","https://www.themoviedb.org/t/p/w220_and_h330_face",t.poster_path,"",n.pc),n.hc("srcset","https://www.themoviedb.org/t/p/w220_and_h330_face",t.poster_path," 1x, https://www.themoviedb.org/t/p/w440_and_h660_face",t.poster_path," 2x",n.pc)}}function b(t,e){1&t&&n.Lb(0,"img",20)}const f=function(t){return["/seriesoverview",t]};function g(t,e){if(1&t&&(n.Pb(0,"div",12),n.rc(1,p,1,3,"img",13),n.rc(2,b,1,0,"ng-template",null,14,n.sc),n.Pb(4,"p",15),n.tc(5),n.Ob(),n.Pb(6,"div",16),n.Lb(7,"circle-progress",17),n.Ob(),n.Pb(8,"p",18),n.tc(9),n.bc(10,"date"),n.Ob(),n.Ob()),2&t){const t=e.$implicit,i=n.lc(3),s=n.ac(3);n.fc("id",t.id),n.ec("routerLink",n.jc(22,f,t.id))("@item",void 0),n.zb(1),n.ec("ngIf",null!==t.poster_path)("ngIfElse",i),n.zb(4),n.uc(t.name),n.zb(2),n.ec("percent",10*t.vote_average)("space",-10)("radius",s.barValue)("outerStrokeWidth",s.outerStrokeWidth)("innerStrokeWidth",0)("outerStrokeColor","#c6232d")("innerStrokeColor","#fff")("animation",!0)("animationDuration",2e3)("titleFontSize",s.titleFontSize)("backgroundPadding",1)("unitsFontSize",s.unitsFontSize)("titleFontWeight","800"),n.zb(2),n.uc(n.cc(10,20,t.first_air_date))}}function m(t,e){if(1&t&&(n.Pb(0,"div",10),n.rc(1,g,11,24,"div",11),n.Ob()),2&t){const t=n.ac(2);n.zb(1),n.ec("ngForOf",t.moviesArr)}}function v(t,e){1&t&&(n.Pb(0,"p",21),n.tc(1,"No results"),n.Ob())}function _(t,e){if(1&t){const t=n.Qb();n.Pb(0,"button",22),n.Wb("click",function(){return n.nc(t),n.ac(2).load()}),n.tc(1," Load More "),n.Ob()}}function S(t,e){if(1&t&&(n.rc(0,m,2,1,"div",7),n.rc(1,v,2,0,"ng-template",null,8,n.sc),n.rc(3,_,2,0,"button",9)),2&t){const t=n.lc(2),e=n.ac();n.ec("ngIf",!e.noResults)("ngIfElse",t),n.zb(3),n.ec("ngIf",e.btnExist)}}let F=(()=>{class t{constructor(t,e,i,s){this.httpMovie=t,this.sortService=e,this.httpFiler=i,this.breakpointObserver=s,this.moviesArr=[],this.pages=1,this.btnExist=!0,this.preLoader=!0,this.noResults=!1,this.filter=!1,this.barValue=25,this.titleFontSize="15",this.outerStrokeWidth=5,this.unitsFontSize="12"}ngOnInit(){this.sortService.genres="",this.sortService.sortValue="",this.fetchingList().then(()=>{setTimeout(()=>{this.preLoader=!1},500)}),this.mediaQueries()}ngDoCheck(){""!==this.sortService.sortValue&&(this.preLoader=!0,this.moviesArr=[],this.btnExist=!0,this.noResults=!1,this.pages=1,this.filter=!0,this.filterAlone().then(t=>{t.forEach(t=>{this.moviesArr.push(t)})}).then(()=>{this.pages++,this.compare(),setTimeout(()=>{this.preLoader=!1},500)}),this.sortService.sortValue="")}fetchingList(){return Object(o.a)(this,void 0,void 0,function*(){(yield this.httpMovie.get(`https://api.themoviedb.org/3/tv/on_the_air?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&language=en-US&page=${this.pages}`).toPromise()).results.forEach(t=>{this.moviesArr.push(t)}),this.pages++})}load(){!0===this.filter?this.filterAlone().then(t=>{t.forEach(t=>{this.moviesArr.push(t)})}).then(()=>{this.pages++,this.compare()}):this.fetchingList()}filterAlone(){return Object(o.a)(this,void 0,void 0,function*(){const t=yield this.httpFiler.get(`https://api.themoviedb.org/3/discover/tv?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&language=en-US&sort_by=${this.sortService.sortValue}&include_adult=false&include_video=false&page=${this.pages}&with_genres=${this.sortService.genres}&with_watch_monetization_types=flatrate`).toPromise();return this.totaRes=t.total_results,t.results})}compare(){const t=this.totaRes/20;0===t&&(this.noResults=!0),this.moviesArr.length/20>=t&&(this.btnExist=!1)}mediaQueries(){this.breakpointObserver.observe(["(max-width: 790px)"]).subscribe(t=>{t.matches&&(this.barValue=20,this.titleFontSize="12",this.outerStrokeWidth=4)}),this.breakpointObserver.observe(["(max-width: 650px)"]).subscribe(t=>{t.matches&&(this.barValue=17,this.titleFontSize="10",this.outerStrokeWidth=4,this.unitsFontSize="10")}),this.breakpointObserver.observe(["(max-width: 510px)"]).subscribe(t=>{t.matches&&(this.barValue=20,this.titleFontSize="12",this.outerStrokeWidth=4,this.unitsFontSize="12")})}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(a.a),n.Kb(c.a),n.Kb(a.a),n.Kb(h.a))},t.\u0275cmp=n.Eb({type:t,selectors:[["app-series-on-tv"]],decls:3,vars:2,consts:[["class","loader",4,"ngIf","ngIfElse"],["content",""],[1,"loader"],[1,"dash","uno"],[1,"dash","dos"],[1,"dash","tres"],[1,"dash","cuatro"],["class","media__content",4,"ngIf","ngIfElse"],["noresults",""],["class","media__btn",3,"click",4,"ngIf"],[1,"media__content"],["class","media__card",3,"id","routerLink",4,"ngFor","ngForOf"],[1,"media__card",3,"id","routerLink"],["class","media__poster","loading","lazy",3,"src","srcset",4,"ngIf","ngIfElse"],["alter",""],[1,"media__title"],["align","center",1,"progressBar","progressBar--media",2,"margin-top","10%"],[3,"percent","space","radius","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration","titleFontSize","backgroundPadding","unitsFontSize","titleFontWeight"],[1,"media__date"],["loading","lazy",1,"media__poster",3,"src","srcset"],["loading","lazy","src","https://st.depositphotos.com/2251265/2417/i/600/depositphotos_24176415-stock-photo-blank-poster-on-a-wood.jpg",1,"media__poster"],[1,"found__not","found__not--filt"],[1,"media__btn",3,"click"]],template:function(t,e){if(1&t&&(n.rc(0,u,5,0,"div",0),n.rc(1,S,4,3,"ng-template",null,1,n.sc)),2&t){const t=n.lc(2);n.ec("ngIf",e.preLoader)("ngIfElse",t)}},directives:[s.k,s.j,d.d,l.a],pipes:[s.d],styles:[""],data:{animation:[Object(r.i)("item",[Object(r.h)(":enter",[Object(r.g)({opacity:0}),Object(r.e)("850ms ease-out")])])]}}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({imports:[[s.b,d.f.forChild([{path:"",component:F}]),l.b.forRoot({backgroundColor:"#000",radius:30,maxPercent:100,units:" %",unitsColor:"#FFF",outerStrokeWidth:1,outerStrokeColor:"#FFFFFF",innerStrokeColor:"#FFFFFF",titleColor:"#fff",subtitleColor:"#FFF",showSubtitle:!1,showInnerStroke:!1,startFromZero:!1})]]}),t})()}}]);