(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VB4V:function(e,t,i){"use strict";i.r(t),i.d(t,"DetailMovieModule",function(){return j});var o=i("ofXK"),r=i("mrSG"),a=i("tk/3"),s=i("R0Ic"),n=i("fXoL"),c=i("tyNb"),b=i("Ve/4"),l=i("kUbd"),m=i("0MNC"),p=i("DPk/"),d=i("K1R0"),v=i("3Pt+"),h=i("Ocu+");let u=(()=>{class e{transform(e){return Math.floor(e/60)+"h "+Math.floor(e%60)+"m"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Jb({name:"myTime",type:e,pure:!0}),e})();function A(e,t){1&e&&(n.Pb(0,"div",4),n.Lb(1,"div",5),n.Lb(2,"div",6),n.Lb(3,"div",7),n.Lb(4,"div",8),n.Ob())}function g(e,t){if(1&e&&n.Lb(0,"img",44),2&e){const e=n.ac(2);n.gc("src","https://www.themoviedb.org/t/p/w220_and_h330_face",e.item.poster_path,"",n.pc),n.hc("srcset","https://www.themoviedb.org/t/p/w220_and_h330_face",e.item.poster_path," 1x, https://www.themoviedb.org/t/p/w440_and_h660_face",e.item.poster_path," 2x",n.pc)}}function f(e,t){1&e&&n.Lb(0,"img",45)}function S(e,t){if(1&e&&n.Lb(0,"img",50),2&e){const e=n.ac().$implicit;n.gc("src","https://www.themoviedb.org/t/p/w220_and_h330_face",e.profile_path,"",n.pc),n.hc("srcset","https://www.themoviedb.org/t/p/w220_and_h330_face",e.profile_path," 1x, https://www.themoviedb.org/t/p/w440_and_h660_face",e.profile_path," 2x",n.pc)}}function k(e,t){1&e&&n.Lb(0,"img",51)}const w=function(e){return["/personoverview",e]};function O(e,t){if(1&e&&(n.Pb(0,"div",46),n.rc(1,S,1,3,"img",47),n.rc(2,k,1,0,"ng-template",null,12,n.sc),n.Pb(4,"p",48),n.tc(5),n.Ob(),n.Pb(6,"p",49),n.tc(7),n.Ob(),n.Ob()),2&e){const e=t.$implicit,i=n.lc(3);n.ec("routerLink",n.jc(6,w,e.id))("@item",void 0),n.zb(1),n.ec("ngIf",null!==e.profile_path)("ngIfElse",i),n.zb(4),n.uc(e.original_name),n.zb(2),n.vc(" ",e.character," ")}}function x(e,t){if(1&e&&n.Lb(0,"img",50),2&e){const e=n.ac().$implicit;n.gc("src","https://www.themoviedb.org/t/p/w220_and_h330_face",e.poster_path,"",n.pc),n.hc("srcset","https://www.themoviedb.org/t/p/w220_and_h330_face",e.poster_path," 1x, https://www.themoviedb.org/t/p/w440_and_h660_face",e.poster_path," 2x",n.pc)}}function P(e,t){1&e&&n.Lb(0,"img",51)}const z=function(e){return["/movieoverview",e]},y=function(e){return["/seriesoverview",e]};function _(e,t){if(1&e&&(n.Pb(0,"div",46),n.rc(1,x,1,3,"img",47),n.rc(2,P,1,0,"ng-template",null,12,n.sc),n.Pb(4,"p",48),n.tc(5),n.Ob(),n.Pb(6,"p",49),n.tc(7),n.bc(8,"date"),n.Ob(),n.Ob()),2&e){const e=t.$implicit,i=n.lc(3);n.ec("routerLink",e.title?n.jc(8,z,e.id):n.jc(10,y,e.id))("@item",void 0),n.zb(1),n.ec("ngIf",null!==e.profile_path)("ngIfElse",i),n.zb(4),n.vc(" ",e.title||e.name," "),n.zb(2),n.vc(" ",n.cc(8,6,e.release_date||e.first_air_date)," ")}}function L(e,t){if(1&e){const e=n.Qb();n.Pb(0,"button",57),n.Wb("click",function(){n.nc(e);const t=n.ac().$implicit;return n.ac(2).deleteComment(t._id)}),n.tc(1," delete comment "),n.Ob()}}function V(e,t){if(1&e&&(n.Pb(0,"div",52),n.Pb(1,"span",53),n.tc(2),n.Ob(),n.Pb(3,"span",54),n.tc(4),n.bc(5,"date"),n.Ob(),n.Pb(6,"p",55),n.tc(7),n.Ob(),n.rc(8,L,2,0,"button",56),n.Ob()),2&e){const e=t.$implicit,i=n.ac(2);n.zb(2),n.uc(e.userName),n.zb(2),n.uc(n.dc(5,4,e.date,"MMM d, y, h:mm:ss a")),n.zb(3),n.uc(e.text),n.zb(1),n.ec("ngIf",e.userName===i.currentUser)}}const F=function(e){return{"background-image":e}};function W(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",9),n.Pb(1,"div",10),n.rc(2,g,1,3,"img",11),n.rc(3,f,1,0,"ng-template",null,12,n.sc),n.Pb(5,"div",13),n.Pb(6,"p",14),n.tc(7),n.bc(8,"date"),n.Ob(),n.Pb(9,"div",15),n.Pb(10,"span",16),n.tc(11),n.bc(12,"date"),n.Ob(),n.Lb(13,"p",17),n.Pb(14,"p",18),n.tc(15),n.Ob(),n.Lb(16,"p",17),n.Pb(17,"p",19),n.tc(18),n.Ob(),n.Lb(19,"p",17),n.Pb(20,"p"),n.tc(21),n.bc(22,"myTime"),n.Ob(),n.Ob(),n.Pb(23,"div",20),n.Pb(24,"div",21),n.Pb(25,"div",22),n.Lb(26,"circle-progress",23),n.Ob(),n.Pb(27,"p",24),n.tc(28,"movie rait"),n.Ob(),n.Ob(),n.Pb(29,"div",25),n.Pb(30,"div",26),n.Wb("click",function(){n.nc(e);const t=n.ac();return t.open(t.item.id)}),n.Lb(31,"div",27),n.Ob(),n.Pb(32,"div",28),n.tc(33,"watch trailer"),n.Ob(),n.Ob(),n.Ob(),n.Pb(34,"p",29),n.tc(35),n.Ob(),n.Pb(36,"p",30),n.tc(37,"Overview"),n.Ob(),n.Pb(38,"p",31),n.tc(39),n.Ob(),n.Pb(40,"button",32),n.Wb("click",function(){n.nc(e);const t=n.ac();return t.addFavorite(t.item.id)}),n.tc(41," add to favorite "),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(42,"div",33),n.Pb(43,"div",34),n.Pb(44,"h2",35),n.tc(45,"Cast"),n.Ob(),n.Pb(46,"div",36),n.rc(47,O,8,8,"div",37),n.Ob(),n.Pb(48,"h2",35),n.tc(49,"Similar movies"),n.Ob(),n.Pb(50,"div",36),n.rc(51,_,9,12,"div",37),n.Ob(),n.Ob(),n.Ob(),n.Pb(52,"div",38),n.Pb(53,"div",34),n.Pb(54,"p",39),n.tc(55),n.Ob(),n.rc(56,V,9,7,"div",40),n.Pb(57,"div",41),n.Pb(58,"textarea",42),n.Wb("ngModelChange",function(t){return n.nc(e),n.ac().comment=t}),n.Ob(),n.Pb(59,"button",43),n.Wb("click",function(){return n.nc(e),n.ac().leaveComment()}),n.tc(60," submit "),n.Ob(),n.Ob(),n.Ob(),n.Ob()}if(2&e){const e=n.lc(4),t=n.ac();n.ec("ngStyle",n.jc(44,F,"url("+t.bgImgPath+")"))("@item",void 0),n.zb(2),n.ec("ngIf",null!==t.item.poster_path)("ngIfElse",e),n.zb(5),n.wc(" ",t.item.title," (",n.dc(8,37,t.item.release_date,"yyyy"),") "),n.zb(4),n.vc(" ",n.cc(12,40,t.item.release_date)," "),n.zb(4),n.vc(" ",t.genres," "),n.zb(3),n.vc(" ",t.ageAccess," "),n.zb(3),n.uc(n.cc(22,42,t.item.runtime)),n.zb(5),n.ec("percent",10*t.item.vote_average)("space",-10)("radius",t.barValue)("outerStrokeWidth",t.outerStrokeWidth)("innerStrokeWidth",0)("outerStrokeColor","#c6232d")("innerStrokeColor","#fff")("animation",!0)("animationDuration",2e3)("titleFontSize",t.titleFontSize)("backgroundPadding",1)("unitsFontSize",t.unitsFontSize)("titleFontWeight","800"),n.zb(9),n.uc(t.item.tagline),n.zb(4),n.uc(t.item.overview),n.zb(1),n.ec("title",t.favoriteService.btnExist?"add to favorite":"please, register in order to add")("disabled",!t.favoriteService.btnExist),n.zb(7),n.ec("ngForOf",t.cast),n.zb(4),n.ec("ngForOf",t.similar),n.zb(4),n.vc("",t.commentsAmount," comments"),n.zb(1),n.ec("ngForOf",t.commentsArray),n.zb(2),n.ec("ngModel",t.comment)("placeholder",t.favoriteService.btnExist?"leave a comment":"I am waiting for your registration :)")("disabled",!t.favoriteService.btnExist)("title",t.favoriteService.btnExist?"leave a comment":"please, register in order to leave a comment"),n.zb(1),n.ec("disabled",!t.favoriteService.btnExist||t.comment.length<10)("title",!t.favoriteService.btnExist||t.comment.length<10?"please, register or type at least 10 characters in order to leave a comment":"leave a comment")}}function Y(e,t){1&e&&n.Lb(0,"app-trailer"),2&e&&n.ec("@item",void 0)}let E=(()=>{class e{constructor(e,t,i,o,r,a,s,n,c,b,l){this.httpMovie=e,this.httpSimilar=t,this.httpCredits=i,this.router=o,this.trailerService=r,this.favoriteService=a,this.breakpointObserver=s,this.postComment=n,this.getAllCommentsHttp=c,this.userData=b,this.deleteCommentHttp=l,this.preLoader=!0,this.cast=[],this.similar=[],this.modal=!1,this.commentsAmount=0,this.commentsArray=[],this.comment="",this.barValue=25,this.titleFontSize="15",this.outerStrokeWidth=5,this.unitsFontSize="12",this.currentUser=""}ngOnInit(){this.currentUser=localStorage.getItem("userName"),this.userSubscription=this.userData.userName.subscribe(e=>{this.currentUser=e}),this.modalSubscription=this.trailerService.open.subscribe(e=>{this.modal=e}),window.scrollTo(0,0),this.trailerService.movieId="",this.trailerService.seriesId="",this.router.params.subscribe(e=>{window.scrollTo(0,0),this.preLoader=!0,this.id=+e.id,this.getAllComments(),this.fetchItem(this.id).then(e=>{this.item=e;const t=[];this.item.genres.forEach(e=>{t.push(e.name)}),this.genres=t.join(" "),this.bgImgPath=null!==e.backdrop_path?`https://image.tmdb.org/t/p/original${e.backdrop_path}`:"data:image/jpeg;base64,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"}),this.getCredits(this.id).then(e=>{this.cast=e.cast}),this.getSimilar(this.id).then(e=>{this.similar=e.results,setTimeout(()=>{this.preLoader=!1},500)}),this.ageRait(this.id).then(e=>{e.release_dates.results.forEach(e=>{"US"===e.iso_3166_1&&void 0!==e.release_dates[0].certification&&(this.ageAccess=e.release_dates[0].certification)})})}),this.mediaQueries()}fetchItem(e){return Object(r.a)(this,void 0,void 0,function*(){return yield this.httpMovie.get(`https://api.themoviedb.org/3/movie/${e}?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&append_to_response=videos`).toPromise()})}getSimilar(e){return Object(r.a)(this,void 0,void 0,function*(){return yield this.httpSimilar.get(`https://api.themoviedb.org/3/movie/${e}/similar?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&language=en-US&page=1`).toPromise()})}getCredits(e){return Object(r.a)(this,void 0,void 0,function*(){return yield this.httpCredits.get(`https://api.themoviedb.org/3/movie/${e}/credits?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&language=en-US`).toPromise()})}ageRait(e){return Object(r.a)(this,void 0,void 0,function*(){return yield this.httpMovie.get(`https://api.themoviedb.org/3/movie/${e}?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&append_to_response=release_dates`).toPromise()})}open(e){this.trailerService.movieId=e,this.trailerService.open.next(!0)}addFavorite(e){this.favoriteService.addMovieItem(e)}leaveComment(){const e={text:this.comment,userName:localStorage.getItem("userName")},t=`Bearer ${localStorage.getItem("token")}`,i=(new a.c).set("Authorization",t);this.postComment.post(`https://search-movie-server.herokuapp.com/api/comments/movieoverview/${this.id}`,e,{headers:i}).subscribe(e=>{"success"===e.status&&this.getAllComments()},e=>{console.log(e)}),this.comment=""}getAllComments(){this.getAllCommentsHttp.get(`https://search-movie-server.herokuapp.com/api/comments/movieoverview/${this.id}`).subscribe(e=>{this.commentsArray=e.data.reverse(),this.commentsAmount=this.commentsArray.length},e=>{console.log(e)})}deleteComment(e){const t=`Bearer ${localStorage.getItem("token")}`,i=(new a.c).set("Authorization",t);this.deleteCommentHttp.delete(`https://search-movie-server.herokuapp.com/api/comments/movieoverview/${this.id}/${e}`,{headers:i}).subscribe(e=>{"success"===e.status&&this.getAllComments()},e=>{console.log(e)})}mediaQueries(){this.breakpointObserver.observe(["(max-width: 1024px)"]).subscribe(e=>{e.matches&&(this.barValue=20,this.titleFontSize="12",this.outerStrokeWidth=4)}),this.breakpointObserver.observe(["(max-width: 790px)"]).subscribe(e=>{e.matches&&(this.barValue=16,this.titleFontSize="8",this.outerStrokeWidth=2,this.unitsFontSize="8")}),this.breakpointObserver.observe(["(max-width: 650px)"]).subscribe(e=>{e.matches&&(this.barValue=13,this.titleFontSize="8",this.outerStrokeWidth=2,this.unitsFontSize="8")})}ngOnDestroy(){this.userSubscription.unsubscribe(),this.modalSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(a.a),n.Kb(a.a),n.Kb(a.a),n.Kb(c.a),n.Kb(b.a),n.Kb(l.a),n.Kb(m.a),n.Kb(a.a),n.Kb(a.a),n.Kb(p.a),n.Kb(a.a))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-detail-movie"]],decls:5,vars:3,consts:[[1,"overview"],["class","loader",4,"ngIf","ngIfElse"],["mainContent",""],[4,"ngIf"],[1,"loader"],[1,"dash","uno"],[1,"dash","dos"],[1,"dash","tres"],[1,"dash","cuatro"],[1,"overview__top",3,"ngStyle"],[1,"container","overview__topBlock"],["class","overview__poster","loading","lazy",3,"src","srcset",4,"ngIf","ngIfElse"],["alter",""],[1,"overview__information"],[1,"overview__title"],[1,"overview__infoPg"],[1,"overview__date"],[1,"overview__dot"],[1,"overview__genre"],[1,"overview__age"],[1,"overview__rait"],[1,"overview__rait--left"],["align","center",1,"overview__progressBar"],[3,"percent","space","radius","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration","titleFontSize","backgroundPadding","unitsFontSize","titleFontWeight"],[1,"overview__raitText"],[1,"overview__rait--right"],[1,"overview__circlePlay",3,"click"],["name","caret-forward-outline",1,"overview__circlePlay--play"],[1,"overview__watch"],[1,"overview__slogan"],[1,"overview__heading"],[1,"overview__overview"],[1,"overview__button",3,"title","disabled","click"],[1,"overview__bottom"],[1,"container"],[1,"overview__castTitle"],[1,"overview__cast"],["class","overview__person",3,"routerLink",4,"ngFor","ngForOf"],[1,"comments"],[1,"comments__amount"],["class","comments__comment",4,"ngFor","ngForOf"],[1,"comments__leave"],[1,"comments__tap",3,"ngModel","placeholder","disabled","title","ngModelChange"],[1,"comments__submit",3,"disabled","title","click"],["loading","lazy",1,"overview__poster",3,"src","srcset"],["loading","lazy","src","https://st.depositphotos.com/2251265/2417/i/600/depositphotos_24176415-stock-photo-blank-poster-on-a-wood.jpg",1,"overview__poster"],[1,"overview__person",3,"routerLink"],["class","overview__castPoster","loading","lazy",3,"src","srcset",4,"ngIf","ngIfElse"],[1,"overview__originalName"],[1,"overview__originalName","overview__originalName--character"],["loading","lazy",1,"overview__castPoster",3,"src","srcset"],["loading","lazy","src","https://st.depositphotos.com/2251265/2417/i/600/depositphotos_24176415-stock-photo-blank-poster-on-a-wood.jpg",1,"overview__castPoster"],[1,"comments__comment"],[1,"comments__name"],[1,"comments__date"],[1,"comments__text"],["class","comments__delete",3,"click",4,"ngIf"],[1,"comments__delete",3,"click"]],template:function(e,t){if(1&e&&(n.Pb(0,"div",0),n.rc(1,A,5,0,"div",1),n.rc(2,W,61,46,"ng-template",null,2,n.sc),n.Ob(),n.rc(4,Y,1,1,"app-trailer",3)),2&e){const e=n.lc(3);n.zb(1),n.ec("ngIf",t.preLoader)("ngIfElse",e),n.zb(3),n.ec("ngIf",t.modal)}},directives:[o.k,o.l,d.a,o.j,v.a,v.g,v.i,c.d,h.a],pipes:[o.d,u],styles:[""],data:{animation:[Object(s.i)("item",[Object(s.h)(":enter",[Object(s.g)({opacity:0}),Object(s.e)("850ms ease-out")])])]}}),e})();var G=i("iTUp"),Z=i("gUmd");let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[o.b,d.b.forRoot({backgroundColor:"#000",radius:30,maxPercent:100,units:" %",unitsColor:"#FFF",outerStrokeWidth:1,outerStrokeColor:"#FFFFFF",innerStrokeColor:"#FFFFFF",titleColor:"#fff",subtitleColor:"#FFF",showSubtitle:!1,showInnerStroke:!1,startFromZero:!1}),G.a,Z.a,c.f,c.f.forChild([{path:"",component:E}]),v.f]]}),e})()}}]);