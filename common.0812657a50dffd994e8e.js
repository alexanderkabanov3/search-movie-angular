(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"87FN":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var s=r("fXoL");let n=(()=>{class e{constructor(){this.genres="",this.sortValue=" "}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},E6om:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var s=r("ofXK"),n=r("fXoL");let i=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[s.b]]}),e})()},Ur93:function(e,t,r){"use strict";r.d(t,"a",function(){return b});var s=r("mrSG"),n=r("fXoL"),i=r("tk/3"),o=r("87FN"),c=r("tyNb"),a=r("ofXK");const l=["sortOption"],d=["sorting"];function g(e,t){if(1&e&&(n.Pb(0,"p",14),n.tc(1),n.Ob()),2&e){const e=t.$implicit;n.fc("id",e.id),n.zb(1),n.vc(" ",e.name," ")}}let b=(()=>{class e{constructor(e,t,r){this.httpGenre=e,this.sortSrvice=t,this.router=r,this.genresUrl="https://api.themoviedb.org/3/genre/movie/list?api_key=f4a143e6e64636aa4b0cd6bec7236ad4&language=en-US",this.genreArr=[],this.btnDisabled=!0}ngOnInit(){this.fetchGenre().then(e=>{e.genres.forEach(e=>{this.genreArr.push(e)})}),this.router.events.subscribe(e=>{document.querySelectorAll(".sortingBar__genre").forEach(e=>{e.classList.remove("sortingBar__genre--selected")});const t=this.sorting.nativeElement.children;for(const r of t)r.removeAttribute("selected");this.sortOption.nativeElement.setAttribute("selected","selected"),this.btnDisabled=!0})}fetchGenre(){return Object(s.a)(this,void 0,void 0,function*(){return yield this.httpGenre.get(this.genresUrl).toPromise()})}select(e){if(!e.target.classList.contains("sortingBar__genresBlock")){e.target.classList.contains("sortingBar__genre--selected")?e.target.classList.remove("sortingBar__genre--selected"):e.target.classList.add("sortingBar__genre--selected");const t=e.target.parentNode.children;let r=0;for(const e of t)e.classList.contains("sortingBar__genre--selected")&&r++;r>0?this.btnDisabled=!1:this.sortOption.nativeElement.selected&&(this.btnDisabled=!0)}}selectOption(e){this.btnDisabled="popularity.desc"===e.target.value,document.querySelectorAll(".sortingBar__genre").forEach(e=>{e.classList.contains("sortingBar__genre--selected")&&(this.btnDisabled=!1)})}sendData(){this.sortSrvice.genres="",this.sortSrvice.sortValue="";const e=document.querySelectorAll(".sortingBar__genre"),t=[];e.forEach(e=>{e.classList.contains("sortingBar__genre--selected")&&t.push(e.id)}),this.sortSrvice.genres=t.join(",");const r=this.sorting.nativeElement.children;for(const s of r)s.selected&&(this.sortSrvice.sortValue=s.value)}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(i.a),n.Kb(o.a),n.Kb(c.c))},e.\u0275cmp=n.Eb({type:e,selectors:[["app-sorting-bar"]],viewQuery:function(e,t){if(1&e&&(n.xc(l,1),n.xc(d,1)),2&e){let e;n.kc(e=n.Xb())&&(t.sortOption=e.first),n.kc(e=n.Xb())&&(t.sorting=e.first)}},decls:25,vars:2,consts:[[1,"sortingBar"],[1,"sortingBar__heading"],["name","sort","id","sort",1,"sortingBar__options",3,"change"],["sorting",""],["value","popularity.desc","selected",""],["sortOption",""],["value","popularity.asc"],["value","release_date.desc"],["value","release_date.asc"],["value","vote_average.desc"],["value","vote_average.asc"],[1,"sortingBar__genresBlock",3,"click"],["class","sortingBar__genre",3,"id",4,"ngFor","ngForOf"],[1,"sortingBar__btn",3,"disabled","click"],[1,"sortingBar__genre",3,"id"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Pb(1,"p",1),n.tc(2,"Sort results by"),n.Ob(),n.Pb(3,"select",2,3),n.Wb("change",function(e){return t.selectOption(e)}),n.Pb(5,"option",4,5),n.tc(7," Popularity descending "),n.Ob(),n.Pb(8,"option",6),n.tc(9,"Popularity ascending"),n.Ob(),n.Pb(10,"option",7),n.tc(11,"Release date descending"),n.Ob(),n.Pb(12,"option",8),n.tc(13,"Release date ascending"),n.Ob(),n.Pb(14,"option",9),n.tc(15,"Rating descending"),n.Ob(),n.Pb(16,"option",10),n.tc(17,"Rating ascending"),n.Ob(),n.Ob(),n.Lb(18,"hr"),n.Pb(19,"p",1),n.tc(20,"Genres"),n.Ob(),n.Pb(21,"div",11),n.Wb("click",function(e){return t.select(e)}),n.rc(22,g,2,2,"p",12),n.Ob(),n.Pb(23,"button",13),n.Wb("click",function(){return t.sendData()}),n.tc(24," Search "),n.Ob(),n.Ob()),2&e&&(n.zb(22),n.ec("ngForOf",t.genreArr),n.zb(1),n.ec("disabled",t.btnDisabled))},directives:[a.j],styles:[""]}),e})()}}]);